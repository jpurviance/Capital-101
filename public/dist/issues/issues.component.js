"use strict";angular.module("issues").component("issues",{templateUrl:"partials/issues",controller:["$scope","$location","$http","$cacheFactory",function(e,o,s,t){e.tickets=[],e.reals=[],t.get("session")?e.cache=t.get("session"):e.cache=t("session"),e.cache.get("user")||o.path("login"),e.user=e.cache.get("user"),s.post("/api/line",{token:42}).then(function(o){e.tickets=o.data.line,console.log(e.tickets),angular.forEach(e.tickets,function(o){s.post("/api/user",{token:42,user:o.customer_id}).then(function(s){console.log(s),o.customer=s.data.user,e.reals.push(o)},function(e){console.log("an error ocurred"),console.log(e)})})},function(e){console.log("an error ocurred"),console.log(e)}),e.logOut=function(){console.log("Logging Out"),e.cache.put("user",null),o.path("login")},e.openIssue=function(e){o.path("issue/"+e.customer_id)},e.issues={},console.log("LOADED")}]});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlzc3Vlcy9pc3N1ZXMuY29tcG9uZW50LmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb21wb25lbnQiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkbG9jYXRpb24iLCIkaHR0cCIsIiRjYWNoZUZhY3RvcnkiLCJ0aWNrZXRzIiwicmVhbHMiLCJnZXQiLCJjYWNoZSIsInBhdGgiLCJ1c2VyIiwicG9zdCIsInRva2VuIiwidGhlbiIsInJlcyIsImRhdGEiLCJsaW5lIiwiY29uc29sZSIsImxvZyIsImZvckVhY2giLCJ2YWx1ZSIsImN1c3RvbWVyX2lkIiwiY3VzdG9tZXIiLCJwdXNoIiwibG9nT3V0IiwicHV0Iiwib3Blbklzc3VlIiwiaXNzdWUiLCJpc3N1ZXMiXSwibWFwcGluZ3MiOiJBQUFBLFlBR0FBLFNBQ0FDLE9BQU8sVUFDUEMsVUFBVSxVQUNOQyxZQUFhLGtCQUNiQyxZQUFhLFNBQVMsWUFBWSxRQUFRLGdCQUN0QyxTQUEwQkMsRUFBT0MsRUFBVUMsRUFBTUMsR0FDN0NILEVBQU9JLFdBQ1BKLEVBQU9LLFNBQ0hGLEVBQWNHLElBQUksV0FJbEJOLEVBQU9PLE1BQVFKLEVBQWNHLElBQUksV0FIakNOLEVBQU9PLE1BQVFKLEVBQWMsV0FLN0JILEVBQU9PLE1BQU1ELElBQUksU0FDakJMLEVBQVVPLEtBQUssU0FFbkJSLEVBQU9TLEtBQU9ULEVBQU9PLE1BQU1ELElBQUksUUFDL0JKLEVBQU1RLEtBQUssYUFBY0MsTUFBTSxLQUFLQyxLQUFLLFNBQVNDLEdBQzlDYixFQUFPSSxRQUFVUyxFQUFJQyxLQUFLQyxLQUMxQkMsUUFBUUMsSUFBSWpCLEVBQU9JLFNBQ25CVCxRQUFRdUIsUUFBUWxCLEVBQU9JLFFBQVEsU0FBU2UsR0FFcENqQixFQUFNUSxLQUFLLGFBQWNDLE1BQU0sR0FBR0YsS0FBS1UsRUFBTUMsY0FBY1IsS0FBSyxTQUFTQyxHQUNyRUcsUUFBUUMsSUFBSUosR0FDWk0sRUFBTUUsU0FBV1IsRUFBSUMsS0FBS0wsS0FDMUJULEVBQU9LLE1BQU1pQixLQUFLSCxJQUNwQixTQUFTTixHQUNQRyxRQUFRQyxJQUFJLG9CQUNaRCxRQUFRQyxJQUFJSixRQUd0QixTQUFTQSxHQUNQRyxRQUFRQyxJQUFJLG9CQUNaRCxRQUFRQyxJQUFJSixLQUVoQmIsRUFBT3VCLE9BQVMsV0FDWlAsUUFBUUMsSUFBSSxlQUNaakIsRUFBT08sTUFBTWlCLElBQUksT0FBTyxNQUN4QnZCLEVBQVVPLEtBQUssVUFFbkJSLEVBQU95QixVQUFZLFNBQVNDLEdBQ3BCekIsRUFBVU8sS0FBSyxTQUFXa0IsRUFBTU4sY0FFeENwQixFQUFPMkIsVUFDUFgsUUFBUUMsSUFBSSIsImZpbGUiOiJpc3N1ZXMvaXNzdWVzLmNvbXBvbmVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLy8gUmVnaXN0ZXIgYGlzc3Vlc2AgY29tcG9uZW50LCBhbG9uZyB3aXRoIGl0cyBhc3NvY2lhdGVkIGNvbnRyb2xsZXIgYW5kIHRlbXBsYXRlXG5hbmd1bGFyLlxubW9kdWxlKCdpc3N1ZXMnKS5cbmNvbXBvbmVudCgnaXNzdWVzJywge1xuICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvaXNzdWVzJyxcbiAgICBjb250cm9sbGVyOiBbJyRzY29wZScsJyRsb2NhdGlvbicsJyRodHRwJywnJGNhY2hlRmFjdG9yeScsXG4gICAgICAgIGZ1bmN0aW9uIGlzc3Vlc0NvbnRyb2xsZXIoJHNjb3BlLCRsb2NhdGlvbiwkaHR0cCwkY2FjaGVGYWN0b3J5KSB7XG4gICAgICAgICAgICAkc2NvcGUudGlja2V0cyA9IFtdO1xuICAgICAgICAgICAgJHNjb3BlLnJlYWxzID0gW107XG4gICAgICAgICAgICBpZighJGNhY2hlRmFjdG9yeS5nZXQoJ3Nlc3Npb24nKSl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNhY2hlID0gJGNhY2hlRmFjdG9yeSgnc2Vzc2lvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNhY2hlID0gJGNhY2hlRmFjdG9yeS5nZXQoJ3Nlc3Npb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCEkc2NvcGUuY2FjaGUuZ2V0KFwidXNlclwiKSl7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJ2xvZ2luJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUudXNlciA9ICRzY29wZS5jYWNoZS5nZXQoXCJ1c2VyXCIpO1xuICAgICAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9saW5lJywge3Rva2VuOjQyfSkudGhlbihmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgICAgICRzY29wZS50aWNrZXRzID0gcmVzLmRhdGEubGluZTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUudGlja2V0cyk7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS50aWNrZXRzLGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL3VzZXInLCB7dG9rZW46NDIsdXNlcjp2YWx1ZS5jdXN0b21lcl9pZH0pLnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jdXN0b21lciA9IHJlcy5kYXRhLnVzZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVhbHMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhbiBlcnJvciBvY3VycmVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYW4gZXJyb3Igb2N1cnJlZCcpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRzY29wZS5sb2dPdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2dnaW5nIE91dFwiKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2FjaGUucHV0KFwidXNlclwiLG51bGwpO1xuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCdsb2dpbicpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRzY29wZS5vcGVuSXNzdWUgPSBmdW5jdGlvbihpc3N1ZSl7XG4gICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCdpc3N1ZS8nICsgaXNzdWUuY3VzdG9tZXJfaWQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRzY29wZS5pc3N1ZXMgPSB7fTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMT0FERUQnKTtcbiAgICAgICAgfVxuICAgIF1cbn0pOy8qKlxuICogQ3JlYXRlZCBieSB3cmsyMjQgb24gNy83LzE2LlxuICovXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
