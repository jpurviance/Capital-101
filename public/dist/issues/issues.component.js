"use strict";angular.module("issues").component("issues",{templateUrl:"partials/issues",controller:["$scope","$location","$http","$cacheFactory",function(e,o,t,s){e.tickets=[],s.get("session")?e.cache=s.get("session"):e.cache=s("session"),e.cache.get("user")||o.path("login"),e.user=e.cache.get("user"),t.post("/api/line",{token:42}).then(function(o){e.tickets=o.data.line,console.log(e.tickets);for(var s=function(o){t.post("/api/line",{token:42,user:e.tickets[o].customer_id}).then(function(t){e.tickets[o].customer=t.data.user},function(e){console.log("an error ocurred"),console.log(e)})},n=0;n<e.tickets.length;++n)s(n)},function(e){console.log("an error ocurred"),console.log(e)}),e.logOut=function(){console.log("Logging Out"),e.cache.put("user",null),o.path("login")},e.issues={},console.log("LOADED")}]});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlzc3Vlcy9pc3N1ZXMuY29tcG9uZW50LmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb21wb25lbnQiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkbG9jYXRpb24iLCIkaHR0cCIsIiRjYWNoZUZhY3RvcnkiLCJ0aWNrZXRzIiwiZ2V0IiwiY2FjaGUiLCJwYXRoIiwidXNlciIsInBvc3QiLCJ0b2tlbiIsInRoZW4iLCJyZXMiLCJkYXRhIiwibGluZSIsImNvbnNvbGUiLCJsb2ciLCJfbG9vcCIsImkiLCJjdXN0b21lcl9pZCIsImN1c3RvbWVyIiwibGVuZ3RoIiwibG9nT3V0IiwicHV0IiwiaXNzdWVzIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUdBQSxTQUNBQyxPQUFPLFVBQ1BDLFVBQVUsVUFDTkMsWUFBYSxrQkFDYkMsWUFBYSxTQUFTLFlBQVksUUFBUSxnQkFDdEMsU0FBMEJDLEVBQU9DLEVBQVVDLEVBQU1DLEdBQzdDSCxFQUFPSSxXQUNIRCxFQUFjRSxJQUFJLFdBSWxCTCxFQUFPTSxNQUFRSCxFQUFjRSxJQUFJLFdBSGpDTCxFQUFPTSxNQUFRSCxFQUFjLFdBSzdCSCxFQUFPTSxNQUFNRCxJQUFJLFNBQ2pCSixFQUFVTSxLQUFLLFNBRW5CUCxFQUFPUSxLQUFPUixFQUFPTSxNQUFNRCxJQUFJLFFBQy9CSCxFQUFNTyxLQUFLLGFBQWNDLE1BQU0sS0FBS0MsS0FBSyxTQUFTQyxHQUM5Q1osRUFBT0ksUUFBVVEsRUFBSUMsS0FBS0MsS0FDMUJDLFFBQVFDLElBQUloQixFQUFPSSxRQUNuQixLQUFJLEdBSDhDYSxHQUFBLFNBRzFDQyxHQUNKaEIsRUFBTU8sS0FBSyxhQUFjQyxNQUFNLEdBQUdGLEtBQUtSLEVBQU9JLFFBQVFjLEdBQUdDLGNBQWNSLEtBQUssU0FBU0MsR0FDakZaLEVBQU9JLFFBQVFjLEdBQUdFLFNBQVdSLEVBQUlDLEtBQUtMLE1BQ3hDLFNBQVNJLEdBQ1BHLFFBQVFDLElBQUksb0JBQ1pELFFBQVFDLElBQUlKLE1BTFpNLEVBQUUsRUFBRUEsRUFBRWxCLEVBQU9JLFFBQVFpQixTQUFTSCxFQUFFRCxFQUFoQ0MsSUFRVixTQUFTTixHQUNQRyxRQUFRQyxJQUFJLG9CQUNaRCxRQUFRQyxJQUFJSixLQUVoQlosRUFBT3NCLE9BQVMsV0FDWlAsUUFBUUMsSUFBSSxlQUNaaEIsRUFBT00sTUFBTWlCLElBQUksT0FBTyxNQUN4QnRCLEVBQVVNLEtBQUssVUFFbkJQLEVBQU93QixVQUNQVCxRQUFRQyxJQUFJIiwiZmlsZSI6Imlzc3Vlcy9pc3N1ZXMuY29tcG9uZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vLyBSZWdpc3RlciBgaXNzdWVzYCBjb21wb25lbnQsIGFsb25nIHdpdGggaXRzIGFzc29jaWF0ZWQgY29udHJvbGxlciBhbmQgdGVtcGxhdGVcbmFuZ3VsYXIuXG5tb2R1bGUoJ2lzc3VlcycpLlxuY29tcG9uZW50KCdpc3N1ZXMnLCB7XG4gICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9pc3N1ZXMnLFxuICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywnJGxvY2F0aW9uJywnJGh0dHAnLCckY2FjaGVGYWN0b3J5JyxcbiAgICAgICAgZnVuY3Rpb24gaXNzdWVzQ29udHJvbGxlcigkc2NvcGUsJGxvY2F0aW9uLCRodHRwLCRjYWNoZUZhY3RvcnkpIHtcbiAgICAgICAgICAgICRzY29wZS50aWNrZXRzID0gW107XG4gICAgICAgICAgICBpZighJGNhY2hlRmFjdG9yeS5nZXQoJ3Nlc3Npb24nKSl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNhY2hlID0gJGNhY2hlRmFjdG9yeSgnc2Vzc2lvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNhY2hlID0gJGNhY2hlRmFjdG9yeS5nZXQoJ3Nlc3Npb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCEkc2NvcGUuY2FjaGUuZ2V0KFwidXNlclwiKSl7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJ2xvZ2luJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUudXNlciA9ICRzY29wZS5jYWNoZS5nZXQoXCJ1c2VyXCIpO1xuICAgICAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9saW5lJywge3Rva2VuOjQyfSkudGhlbihmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgICAgICRzY29wZS50aWNrZXRzID0gcmVzLmRhdGEubGluZTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUudGlja2V0cyk7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7aTwkc2NvcGUudGlja2V0cy5sZW5ndGg7KytpKXtcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9saW5lJywge3Rva2VuOjQyLHVzZXI6JHNjb3BlLnRpY2tldHNbaV0uY3VzdG9tZXJfaWR9KS50aGVuKGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGlja2V0c1tpXS5jdXN0b21lciA9IHJlcy5kYXRhLnVzZXI7XG4gICAgICAgICAgICAgICAgICAgIH0sZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhbiBlcnJvciBvY3VycmVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2FuIGVycm9yIG9jdXJyZWQnKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkc2NvcGUubG9nT3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9nZ2luZyBPdXRcIik7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNhY2hlLnB1dChcInVzZXJcIixudWxsKTtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnbG9naW4nKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkc2NvcGUuaXNzdWVzID0ge307XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTE9BREVEJyk7XG4gICAgICAgIH1cbiAgICBdXG59KTsvKipcbiAqIENyZWF0ZWQgYnkgd3JrMjI0IG9uIDcvNy8xNi5cbiAqL1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
