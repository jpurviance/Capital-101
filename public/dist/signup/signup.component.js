"use strict";angular.module("signup").component("signup",{templateUrl:"partials/signup",controller:["$scope","$location","$http",function(e,o,t){e.user={name:"",email:"",password:"",profilePicture:"",type:"ambassador"},e.video=document.getElementById("video");var i={video:!0},a=function(e){console.log("Video capture error: ",e.code)};navigator.getUserMedia?navigator.getUserMedia(i,function(e){video.src=e,video.play()},a):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(i,function(e){video.src=window.webkitURL.createObjectURL(e),video.play()},a):navigator.mozGetUserMedia&&navigator.mozGetUserMedia(i,function(e){video.src=window.URL.createObjectURL(e),video.play()},a),e.takepic=function(){var o=document.createElement("canvas");o.width=video.videoWidth,o.height=video.videoHeight,o.getContext("2d").drawImage(e.video,0,0,o.width,o.height),e.user.profilePicture=o.toDataURL()},e.submitForm=function(){e.signupForm.$valid?t.post("/api/user/create",{token:42,user:e.user}).then(function(e){console.log(e),o.path("login")},function(){console.log("an error ocurred")}):console.log("Form Invalid")}}]});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ251cC9zaWdudXAuY29tcG9uZW50LmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb21wb25lbnQiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkbG9jYXRpb24iLCIkaHR0cCIsInVzZXIiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInByb2ZpbGVQaWN0dXJlIiwidHlwZSIsInZpZGVvIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZpZGVvT2JqIiwiZXJyQmFjayIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImNvZGUiLCJuYXZpZ2F0b3IiLCJnZXRVc2VyTWVkaWEiLCJzdHJlYW0iLCJzcmMiLCJwbGF5Iiwid2Via2l0R2V0VXNlck1lZGlhIiwid2luZG93Iiwid2Via2l0VVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwibW96R2V0VXNlck1lZGlhIiwiVVJMIiwidGFrZXBpYyIsImNhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJ3aWR0aCIsInZpZGVvV2lkdGgiLCJoZWlnaHQiLCJ2aWRlb0hlaWdodCIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJ0b0RhdGFVUkwiLCJzdWJtaXRGb3JtIiwic2lnbnVwRm9ybSIsIiR2YWxpZCIsInBvc3QiLCJ0b2tlbiIsInRoZW4iLCJyZXMiLCJwYXRoIl0sIm1hcHBpbmdzIjoiQUFHQSxZQUdBQSxTQUNBQyxPQUFPLFVBQ1BDLFVBQVUsVUFDTkMsWUFBYSxrQkFDYkMsWUFBYSxTQUFTLFlBQVksUUFDOUIsU0FBMEJDLEVBQU9DLEVBQVVDLEdBQ3ZDRixFQUFPRyxNQUFNQyxLQUFLLEdBQUdDLE1BQU0sR0FBR0MsU0FBUyxHQUFHQyxlQUFlLEdBQUdDLEtBQUssY0FFakVSLEVBQU9TLE1BQVFDLFNBQVNDLGVBQWUsUUFDdkMsSUFBSUMsSUFBYUgsT0FBUyxHQUN0QkksRUFBVSxTQUFTQyxHQUNmQyxRQUFRQyxJQUFJLHdCQUF5QkYsRUFBTUcsTUFJaERDLFdBQVVDLGFBQ1RELFVBQVVDLGFBQWFQLEVBQVUsU0FBU1EsR0FDdENYLE1BQU1ZLElBQU1ELEVBQ1pYLE1BQU1hLFFBQ1BULEdBQ0dLLFVBQVVLLG1CQUNoQkwsVUFBVUssbUJBQW1CWCxFQUFVLFNBQVNRLEdBQzVDWCxNQUFNWSxJQUFNRyxPQUFPQyxVQUFVQyxnQkFBZ0JOLEdBQzdDWCxNQUFNYSxRQUNQVCxHQUVDSyxVQUFVUyxpQkFDZFQsVUFBVVMsZ0JBQWdCZixFQUFVLFNBQVNRLEdBQ3pDWCxNQUFNWSxJQUFNRyxPQUFPSSxJQUFJRixnQkFBZ0JOLEdBQ3ZDWCxNQUFNYSxRQUNQVCxHQUVQYixFQUFPNkIsUUFBVSxXQUNiLEdBQUlDLEdBQVNwQixTQUFTcUIsY0FBYyxTQUNwQ0QsR0FBT0UsTUFBUXZCLE1BQU13QixXQUNyQkgsRUFBT0ksT0FBU3pCLE1BQU0wQixZQUN0QkwsRUFBT00sV0FBVyxNQUNiQyxVQUFVckMsRUFBT1MsTUFBTyxFQUFHLEVBQUdxQixFQUFPRSxNQUFPRixFQUFPSSxRQUN4RGxDLEVBQU9HLEtBQUtJLGVBQWlCdUIsRUFBT1EsYUFFeEN0QyxFQUFPdUMsV0FBYSxXQUVadkMsRUFBT3dDLFdBQVdDLE9BQ2xCdkMsRUFBTXdDLEtBQUssb0JBQXFCQyxNQUFNLEdBQUd4QyxLQUFLSCxFQUFPRyxPQUFPeUMsS0FBSyxTQUFTQyxHQUN0RTlCLFFBQVFDLElBQUk2QixHQUNaNUMsRUFBVTZDLEtBQUssVUFDakIsV0FDRS9CLFFBQVFDLElBQUksc0JBSWhCRCxRQUFRQyxJQUFJIiwiZmlsZSI6InNpZ251cC9zaWdudXAuY29tcG9uZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IHdyazIyNCBvbiA3LzYvMTYuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuLy8gUmVnaXN0ZXIgYHNpZ251cGAgY29tcG9uZW50LCBhbG9uZyB3aXRoIGl0cyBhc3NvY2lhdGVkIGNvbnRyb2xsZXIgYW5kIHRlbXBsYXRlXG5hbmd1bGFyLlxubW9kdWxlKCdzaWdudXAnKS5cbmNvbXBvbmVudCgnc2lnbnVwJywge1xuICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvc2lnbnVwJyxcbiAgICBjb250cm9sbGVyOiBbJyRzY29wZScsJyRsb2NhdGlvbicsJyRodHRwJyxcbiAgICAgICAgZnVuY3Rpb24gc2lnbnVwQ29udHJvbGxlcigkc2NvcGUsJGxvY2F0aW9uLCRodHRwKSB7XG4gICAgICAgICAgICAkc2NvcGUudXNlcj17bmFtZTonJyxlbWFpbDonJyxwYXNzd29yZDonJyxwcm9maWxlUGljdHVyZTonJyx0eXBlOidhbWJhc3NhZG9yJ307XG5cbiAgICAgICAgICAgICRzY29wZS52aWRlbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlkZW9cIik7XG4gICAgICAgICAgICB2YXIgdmlkZW9PYmogPSB7IFwidmlkZW9cIjogdHJ1ZSB9O1xuICAgICAgICAgICAgdmFyIGVyckJhY2sgPSBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlZpZGVvIGNhcHR1cmUgZXJyb3I6IFwiLCBlcnJvci5jb2RlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFB1dCB2aWRlbyBsaXN0ZW5lcnMgaW50byBwbGFjZVxuICAgICAgICAgICAgaWYobmF2aWdhdG9yLmdldFVzZXJNZWRpYSkgeyAvLyBTdGFuZGFyZFxuICAgICAgICAgICAgICAgIG5hdmlnYXRvci5nZXRVc2VyTWVkaWEodmlkZW9PYmosIGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICB2aWRlby5zcmMgPSBzdHJlYW07XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvLnBsYXkoKTtcbiAgICAgICAgICAgICAgICB9LCBlcnJCYWNrKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZihuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhKSB7IC8vIFdlYktpdC1wcmVmaXhlZFxuICAgICAgICAgICAgICAgIG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEodmlkZW9PYmosIGZ1bmN0aW9uKHN0cmVhbSl7XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvLnNyYyA9IHdpbmRvdy53ZWJraXRVUkwuY3JlYXRlT2JqZWN0VVJMKHN0cmVhbSk7XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvLnBsYXkoKTtcbiAgICAgICAgICAgICAgICB9LCBlcnJCYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYobmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSkgeyAvLyBGaXJlZm94LXByZWZpeGVkXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSh2aWRlb09iaiwgZnVuY3Rpb24oc3RyZWFtKXtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW8uc3JjID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoc3RyZWFtKTtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgICAgIH0sIGVyckJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLnRha2VwaWMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHZpZGVvLnZpZGVvV2lkdGg7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHZpZGVvLnZpZGVvSGVpZ2h0O1xuICAgICAgICAgICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAgICAgICAgICAgICAgIC5kcmF3SW1hZ2UoJHNjb3BlLnZpZGVvLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgICRzY29wZS51c2VyLnByb2ZpbGVQaWN0dXJlID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXRGb3JtID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgdG8gbWFrZSBzdXJlIHRoZSBmb3JtIGlzIGNvbXBsZXRlbHkgdmFsaWRcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNpZ251cEZvcm0uJHZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICRodHRwLnBvc3QoJy9hcGkvdXNlci9jcmVhdGUnLCB7dG9rZW46NDIsdXNlcjokc2NvcGUudXNlcn0pLnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnbG9naW4nKTtcbiAgICAgICAgICAgICAgICAgICAgfSxmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2FuIGVycm9yIG9jdXJyZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRm9ybSBJbnZhbGlkXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIF1cbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
